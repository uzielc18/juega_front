<nb-layout withScroll [windowMode]="false" style=" max-height: 90 vh;">
  <nb-layout-column [nbSpinner]="loading" nbSpinnerStatus="primary" nbSpinnerSize="large" nbSpinnerMessage="Procesando información" style="background: #a0b9c4;">
   <nb-card>
      <nb-card-header>
        <div class="row header m-0">
          <div class="col-md-4 d-flex align-items-center">
            <div class="count d-md-block d-none d-md-flex" style="gap: 5px">
              <span class="time days"*ngIf="tiempoRestante.dias > 0">{{tiempoRestante?.dias}} d</span>
              <span class="time hour">{{tiempoRestante?.horas}} h</span>
              <span class="time minute">{{tiempoRestante?.minutos}} m</span>
              <span class="time second">{{tiempoRestante?.segundos}} s</span>
            </div>
          </div>
          <div class="col-md-4 d-flex align-items-center justify-content-center">
            <div class="questions-header">
              <span>{{!info?.titulo ? 'Nombre del examen' : info?.titulo}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <span>Preguntas ( 0 / {{info?.total_questions}} )</span>
            </div>
          </div>
          <div class="col-md-4 d-flex align-items-center">
            <div class="buttons d-md-block d-none ms-auto d-md-flex flex-md-wrap" style="gap: 10px" *ngIf="!tiempoRestante?.tiempo_vencido">
            <button nbButton status="danger" size="small" (click)="refresquestion()">Act. Preguntas</button>
              <button nbButton status="success" size="small">Terminar</button>
            </div>
          </div>
        </div>
        <div *ngIf="!tiempoRestante?.tiempo_vencido" class="settings-button" (click)="collapse()" [ngStyle]="{ right: collapsed ? '50%' : '0' }">
          <nb-icon icon="settings-2-outline"></nb-icon>
        </div>
        <div class="settings" *ngIf="collapsed">
          <div class="settings-container">
            <nb-card class="m-0">
              <nb-card-body class="d-flex flex-column px-lg-4 py-lg-4 px-xl-5 py-xl-4">
                <h5 class="fw-bold">Secciones</h5>
                <button class="mb-2" nbButton outline status="info">Sección 1</button>
                <button class="mb-2" nbButton outline status="info">Sección 2</button>
                <h5 class="fw-bold mt-5">Preguntas sin responder</h5>
                <button class="mb-2" nbButton outline status="success">Pregunta 1</button>
                <button class="mb-2" nbButton outline status="success">Pregunta 2</button>
                <p>Hola</p>
              </nb-card-body>
            </nb-card>
          </div>
        </div>
      </nb-card-header>
    </nb-card>
    <div class="d-flex align-items-center justify-content-between">
      <div></div>

        <div style="width: 100%; max-width: 746px;">
          <div *ngIf="!tiempoRestante?.tiempo_vencido">
            <nb-card *ngFor="let item of questions" [accent]="item?.nivel === '1' ? 'primary' : ''">
              <nb-card-header *ngIf="item.nivel === '1'">
                  <h5 class="sections">{{item.titulo}}</h5>
                  <p *ngIf="item.descripcion" style="font-size: 12px; text-align: justify;">{{item.descripcion}}</p>
              </nb-card-header>
              <nb-card-body *ngIf="item.nivel === '2'">
                <div >
                <strong style="font-size: 12px; text-align: justify;">{{item.numeracion}}). {{item?.pregunta?.pregunta}}</strong>
                  <br>
                  <div *ngIf="['07'].includes(item.codigo)">
                    <app-v-est-multi-option [alternativas]="item?.alternativas" (saveValues)="save($event, item)"></app-v-est-multi-option>
                  </div>
                  <div *ngIf="['01'].includes(item.codigo)">
                    <app-v-est-unique-option [alternativas]="item?.alternativas" (saveValues)="save($event, item)"></app-v-est-unique-option>
                  </div>
                  <div *ngIf="['03'].includes(item.codigo)">
                    <app-v-est-open [alternativas]="item?.alternativas" (saveValues)="save($event, item)"></app-v-est-open>
                  </div>
                  <div *ngIf="['04'].includes(item.codigo)">
                    <app-v-est-closed [alternativas]="item?.alternativas" (saveValues)="save($event, item)"></app-v-est-closed>
                  </div>
                  <div *ngIf="['02'].includes(item.codigo)">
                    <app-v-est-true-false [alternativas]="item?.alternativas" (saveValues)="save($event, item)"></app-v-est-true-false>
                  </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                  <div *ngIf="['05'].includes(item.codigo)">
                    <app-v-est-relation [alternativas]="item?.alternativas"></app-v-est-relation>
                  </div>
                </div>
              </nb-card-body>
            </nb-card>
            <div *ngIf="['section', 'one'].includes(info?.paginado)" class="d-flex align-items-center justify-content-between">
                <div>
                  <button *ngIf="page > 1" nbButton class="nextBack" size="small" (click)="backContinue()">Atras&nbsp;<nb-icon icon="arrow-back-outline"></nb-icon></button>
                </div>
                <div>
                  <button *ngIf="page < (info?.total_section || info?.total_questions)" nbButton class="nextBack" size="small" (click)="nextContinue()">Siguiente&nbsp;<nb-icon icon="arrow-forward-outline"></nb-icon></button>
                </div>
            </div>
          </div>
          <div *ngIf="tiempoRestante?.tiempo_vencido">
            <nb-card>
              <nb-card-header class="text-center">
                SU TIEMPO HA FINALIZADO
              </nb-card-header>
            </nb-card>
          </div>
       
        </div>
       
      <div></div>
    </div>
  
    <div class="movil-buttons d-md-none d-block" *ngIf="!tiempoRestante?.tiempo_vencido">
      <div class="buttons d-flex justify-content-end" style="gap: 20px">
        <button nbButton status="danger" size="small">Act. Preguntas</button>
        <button nbButton status="success" size="small">Terminar</button>
      </div>
    </div>
  </nb-layout-column>
  <!-- <nb-layout-footer>
    dddd
  </nb-layout-footer> -->
  </nb-layout>


<!-- <nb-layout withScroll [windowMode]="false">
  <nb-layout-column class="d-flex align-items-center justify-content-center p-0 h-100">
    <div class="row header m-0">
      <div class="col-md-4 d-flex align-items-center">
        <div class="count d-md-block d-none d-md-flex" style="gap: 5px">
          <span class="time hour">01</span>
          <span class="time minute">00</span>
          <span class="time second">00</span>
        </div>
      </div>
      <div class="col-md-4 d-flex align-items-center justify-content-center">
        <div class="questions-header">
          <span>Nombre del exámen</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <span>Preguntas ( 5/10 )</span>
        </div>
      </div>
      <div class="col-md-4 d-flex align-items-center">
        <div class="buttons d-md-block d-none ms-auto d-md-flex flex-md-wrap" style="gap: 10px">
          <button nbButton status="danger" size="small">Act. Preguntas</button>
          <button nbButton status="success" size="small">Terminar</button>
        </div>
      </div>
    </div>
    <div class="settings-button" (click)="collapse()" [ngStyle]="{ right: collapsed ? '50%' : '0' }">
      <nb-icon icon="settings-2-outline"></nb-icon>
    </div>
    <div class="settings" *ngIf="collapsed">
      <div class="settings-container">
        <nb-card class="m-0">
          <nb-card-body class="d-flex flex-column px-lg-4 py-lg-4 px-xl-5 py-xl-4">
            <h5 class="fw-bold">Secciones</h5>
            <button class="mb-2" nbButton outline status="info">Sección 1</button>
            <button class="mb-2" nbButton outline status="info">Sección 2</button>
            <h5 class="fw-bold mt-5">Preguntas sin responder</h5>
            <button class="mb-2" nbButton outline status="success">Pregunta 1</button>
            <button class="mb-2" nbButton outline status="success">Pregunta 2</button>
            <p>Hola</p>
          </nb-card-body>
        </nb-card>
      </div>
    </div>
    <nb-card class="exam-card border-0">
      <nb-card-body class="p-0">
        <div class="questions py-md-4">
          <div class="section-container">
            <h3 class="fw-bold px-4 py-3 m-0">Sección 1</h3>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. ¿Sabías que hay animales que perciben el sonido a través de la piel, como el topo dorado del Desierto
              del Sahara? Así que se podría decir que sus sentidos del tacto y del oído están “fusionados”. ¿Que ya
              conocías esa información? Pues…¡Prueba suerte y demuestra cuánto sabes con el resto de preguntas!.
            </p>
            <div>
              <app-v-est-unique-option [alternativas]="texts"></app-v-est-unique-option>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div>
              <app-v-est-multi-option [alternativas]="images"></app-v-est-multi-option>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>1. ¿Qué especie es la más pequeña de entre todos los cérvidos?</p>
            <div class="image-container w-100 d-flex justify-content-center mb-4">
              <img
                src="https://cdn.pixabay.com/photo/2018/05/03/22/34/lion-3372720_1280.jpg"
                alt=""
                style="max-width: 100%; height: 100%; max-height: 375px; margin: 0 auto"
              />
    
            </div>
            <div>
              <app-v-est-unique-option [alternativas]="textImg"></app-v-est-unique-option>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div class="video-container w-100 mb-4">
              <app-video-player
                [videoFormat]="'YouTube'"
                [url]="'https://www.youtube.com/watch?v=vgLco8K7Ki4'"
                (loadingsFiles)="loadingsFiles($event)"
              ></app-video-player>
            </div>
            <div>
              <app-v-est-unique-option [alternativas]="images"></app-v-est-unique-option>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div>
              <app-v-est-multi-option [alternativas]="texts"></app-v-est-multi-option>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div>
              <app-v-est-closed></app-v-est-closed>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div>
              <app-v-est-open></app-v-est-open>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              1. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div>
              <app-v-est-relation [alternativas]="relation"></app-v-est-relation>
            </div>
          </div>
          <div class="question-container p-4 p-lg-5">
            <p>
              2. If you use this site regularly and would like to help keep the site on the Internet, please consider
              donating a small sum to help pay for the hosting and bandwidth bill. There is no minimum donation, any sum
              is appreciated - click here to donate using PayPal. Thank you for your support.
            </p>
            <div>
              <app-v-est-relation [alternativas]="relationText"></app-v-est-relation>
            </div>
          </div>
        </div>
      </nb-card-body>
    </nb-card>
    <div class="movil-buttons d-md-none d-block">
      <div class="buttons d-flex justify-content-end" style="gap: 20px">
        <button nbButton status="danger" size="small">Act. Preguntas</button>
        <button nbButton status="success" size="small">Terminar</button>
      </div>
    </div>
  </nb-layout-column>
</nb-layout> -->
